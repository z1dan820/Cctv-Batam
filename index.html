<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard CCTV Batam</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500&family=Roboto:wght@400;700&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Roboto', sans-serif;
    background: linear-gradient(135deg, #0a0a0a, #1a1a1a, #0d1b2a);
    color: #fff;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    align-items: center;
    justify-content: flex-start;
    padding: 1rem;
  }

  h1 {
    font-family: 'Orbitron', sans-serif;
    color: #00ffe0;
    text-shadow: 0 0 8px #00ffe0;
    margin-bottom: 0.5rem;
    font-size: 2rem;
    text-align: center;
  }

  .clock {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.1rem;
    color: #ffdd00;
    text-shadow: 0 0 5px #ffdd00;
    margin-bottom: 0.5rem;
    text-align: center;
  }

  .video-wrapper {
    width: 100%;
    max-width: 1280px;
    aspect-ratio: 16/9;
    border-radius: 12px;
    overflow: hidden;
    border: 2px solid #00ffe0;
    box-shadow: 0 0 30px rgba(0, 255, 224, 0.6);
    background: #000;
    margin-bottom: 2rem;
  }

  video {
    width: 100%;
    height: 100%;
    display: block;
    object-fit: cover;
  }

  footer {
    text-align: center;
    margin-top: 1.5rem;
    font-size: 1rem;
    color: #00ffe0;
    text-shadow: 0 0 5px #00ffe0;
  }

  @media (max-width: 768px) {
    h1 { font-size: 1.5rem; }
    .clock { font-size: 1rem; }
  }
</style>
</head>
<body>

<!-- Frame 1 -->
<h1>SP Batu Aji</h1>
<div class="clock" id="clock1"></div>
<div class="video-wrapper">
  <video id="cctvPlayer1" controls autoplay muted></video>
</div>

<!-- Frame 2 -->
<h1>Kantor DPRD BATAM (Untuk Pantau Demo)</h1>
<div class="clock" id="clock2"></div>
<div class="video-wrapper">
  <video id="cctvPlayer2" controls autoplay muted></video>
</div>

<footer>Fahrul Hamzidan Pulungan</footer>

<script src="https://cdn.jsdelivr.net/npm/hls.js@1.5.1/dist/hls.min.js"></script>
<script>
  // Fungsi update jam WIB
  function updateClock(id) {
    const now = new Date();
    const utc = now.getTime() + now.getTimezoneOffset() * 60000;
    const WIB = new Date(utc + 7 * 3600000);
    const h = String(WIB.getHours()).padStart(2,'0');
    const m = String(WIB.getMinutes()).padStart(2,'0');
    const s = String(WIB.getSeconds()).padStart(2,'0');
    document.getElementById(id).textContent = `${h}:${m}:${s} WIB`;
  }
  setInterval(() => { updateClock('clock1'); updateClock('clock2'); }, 1000);
  updateClock('clock1'); updateClock('clock2');

  // Load video HLS
  function loadHLS(videoId, src) {
    const video = document.getElementById(videoId);
    if(Hls.isSupported()){
      const hls = new Hls();
      hls.loadSource(src);
      hls.attachMedia(video);
      hls.on(Hls.Events.MANIFEST_PARSED, () => video.play());
    } else if(video.canPlayType('application/vnd.apple.mpegurl')){
      video.src = src;
      video.addEventListener('loadedmetadata', () => video.play());
    }
  }

  loadHLS('cctvPlayer1', 'https://matanya.batam.go.id/cctv/batuaji/stream.m3u8');
  loadHLS('cctvPlayer2', 'https://matanya.batam.go.id/cctv/dprd/stream.m3u8');
</script>

</body>
</html>
